(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(e,t,n){e.exports=n(65)},40:function(e,t,n){},41:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(30),r=n.n(c),l=(n(40),n(41),n(1)),i=n.n(l),s=n(4),u=n(5),m=n(7),h=n(6),d=n(8),p=n(3),f={getUser:E,signUp:function(e){v.push({_id:y(),name:e,coins:100,moves:[]})},addMove:function(e,t){return b.moves.unshift({toId:e._id,to:e.name,at:Date.now(),amount:t}),b.coins-=t,g("loggedInUser",b),Promise.resolve(b)}},v=function(){var e=C("users");e||(g("users",e=[{_id:y(),name:"Shuki",coins:100,moves:[]},{_id:y(),name:"Shula Mualem",coins:100,moves:[]},{_id:y(),name:"Zigmond",coins:100,moves:[]},{_id:y(),name:"Mulu Mendi",coins:100,moves:[]}]),v=e);return v}(),b=E();function E(){var e=C("loggedInUser");return e||g("loggedInUser",e=v[3]),e}function y(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function g(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}function C(e){var t=localStorage.getItem(e);return JSON.parse(t)}var w=n(31),O=n.n(w),j={getRate:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(O.a.get("https://blockchain.info/tobtc?currency=USD&value=1&cors=true"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))}};var _=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("ul",null,this.props.moves.map((function(e){var t=new Date(e.at).toLocaleString();return o.a.createElement("li",{key:e.at},o.a.createElement("p",null,"Transfered ",e.amount," BTC to ",e.to," at ",t))})))}}]),t}(o.a.Component),k=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={rate:null,user:null},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=f.getUser(),this.setState({user:e}),n.next=4,i.a.awrap(j.getRate());case 4:t=n.sent,this.setState({rate:t.data});case 6:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.user;return e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Hello ",e.name),o.a.createElement("h4",null,"Coins : ",e.coins),this.state.rate&&o.a.createElement("h4",null,"BTC Rate: ",this.state.rate),e.moves.length>0&&o.a.createElement(_,{moves:e.moves}),o.a.createElement(p.b,{to:"/contact"},"See Contacts"))}}]),t}(o.a.Component),x={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a,o=S;e&&e.term&&(a=(a=e.term).toLocaleLowerCase(),o=S.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.phone.toLocaleLowerCase().includes(a)||e.email.toLocaleLowerCase().includes(a)}))),t(o.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0})))}))},getContactById:function(e){return new Promise((function(t,n){var a=S.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},deleteContact:function(e){return new Promise((function(t,n){var a=S.findIndex((function(t){return t._id===e}));-1!==a&&S.splice(a,1),t(S)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=S.findIndex((function(t){return e._id===t._id}));-1!==a&&(S[a]=e),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),S.push(e),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}};var S=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}],L=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.contact;return o.a.createElement("li",{className:"contact"},o.a.createElement(p.b,{to:"/contact/".concat(e._id),key:e._id},o.a.createElement("img",{src:"https://robohash.org/".concat(e._id,"/?set=set5"),alt:""}),o.a.createElement("div",{className:"contact-Info"},o.a.createElement("h3",null,"Name: ",e.name),o.a.createElement("p",null,"Phone: ",e.phone),o.a.createElement("p",null,"Email: ",e.email))))}}]),t}(o.a.Component),z=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.contacts;return o.a.createElement("ul",{className:"contact-list"},e&&e.map((function(e){return o.a.createElement(L,{contact:e,key:e._id})})))}}]),t}(o.a.Component),N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleFilter=function(e){n.setState({filter:e})},n.state={contacts:[],filter:null},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(x.getContacts());case 2:e=t.sent,this.setState({contacts:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e,t=this.state,n=t.filter,a=t.contacts;return e=n?a.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):a,o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"contacts"),o.a.createElement("div",{className:"filter"},"Search Contact:  ",o.a.createElement(M,{handleFilter:this.handleFilter})),o.a.createElement(p.b,{className:"add-link",to:"/contact/edit/"},"Add Contact"),a.length>0&&o.a.createElement(z,{contacts:e}))}}]),t}(o.a.Component);function M(e){var t=e.handleFilter;return o.a.createElement("input",{type:"text",onChange:function(e){return t(e.target.value)}})}function I(){return o.a.createElement("nav",null,o.a.createElement("div",{className:"logo"},o.a.createElement("h1",null,"Mr. ",o.a.createElement("span",null,"\u20bf"))),o.a.createElement("div",null,o.a.createElement(p.b,{to:"/"},"Home"),o.a.createElement(p.b,{to:"/contact"},"Contacts"),o.a.createElement(p.b,{to:"/statistics"},"Statistics")))}var A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={contact:null,amount:null},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"updateAmount",value:function(e){var t=e.target.value;this.setState({amount:t})}},{key:"removeContact",value:function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you wanna delete?")){t.next=4;break}return t.next=3,i.a.awrap(x.deleteContact(e));case 3:this.props.history.push("/contact");case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.match.params.id,n.next=3,i.a.awrap(x.getContactById(e));case 3:(t=n.sent)&&this.setState({contact:t});case 5:case"end":return n.stop()}}),null,this)}},{key:"transferBTC",value:function(e,t,n){return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,i.a.awrap(f.addMove(t,n));case 3:alert("successfully transfered the cash"),this.props.history.push("/contact");case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.contact;return t&&o.a.createElement("section",{className:"contact-details"},o.a.createElement("h1",null,t.name,"'s details:"),o.a.createElement("p",null,"Email : ",t.email),o.a.createElement("p",null,"Phone Number : ",t.phone),o.a.createElement("div",{className:"contact-actions"},o.a.createElement(p.b,{to:"/contact/edit/".concat(t._id)},"Edit Contact"),o.a.createElement("button",{onClick:function(){return e.removeContact(t._id)}},"Remove Contact")),o.a.createElement("form",{onSubmit:function(n){return e.transferBTC(n,t,e.state.amount)}},o.a.createElement("label",null,"Insert Amount to transfer",o.a.createElement("input",{onChange:function(t){return e.updateAmount(t)},type:"num",placeholder:"BTC"})),o.a.createElement("button",null,"Transfer")),o.a.createElement("img",{src:"https://robohash.org/".concat(t._id,"/?set=set5"),alt:""}),o.a.createElement(p.b,{to:"/contact"},"\u2190 Back to contacts"))}}]),t}(o.a.Component),B=n(16),P=n(34),D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={contact:{name:"",phone:"",email:""}},n.updateContact=function(e,t){var a=e.target.value;n.setState((function(e){return{contact:Object(P.a)({},e.contact,Object(B.a)({},t,a))}}))},n.saveContact=function(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,i.a.awrap(x.saveContact(n.state.contact));case 3:n.props.history.push("/contact");case 4:case"end":return t.stop()}}))},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props.match.params.id,console.log(e),!e){n.next=6;break}return n.next=5,i.a.awrap(x.getContactById(e));case 5:t=n.sent;case 6:t&&this.setState({contact:t});case 7:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.contact;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"contact-prev-edit"},o.a.createElement(L,{contact:this.state.contact})),o.a.createElement("form",{onSubmit:this.saveContact},o.a.createElement("div",{className:"form-fields"},o.a.createElement("label",null," Name:",o.a.createElement("input",{value:t.name,onChange:function(t){return e.updateContact(t,"name")},type:"text"})),o.a.createElement("label",null,"Phone:",o.a.createElement("input",{value:t.phone,type:"text",onChange:function(t){return e.updateContact(t,"phone")}})),o.a.createElement("label",null," Email:",o.a.createElement("input",{value:t.email,onChange:function(t){return e.updateContact(t,"email")},type:"email"})),o.a.createElement("button",null,"Save Contact"))))}}]),t}(o.a.Component),F=n(13);var R=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(I,null),o.a.createElement(F.c,null,o.a.createElement(F.a,{exact:!0,path:"/",component:k}),o.a.createElement(F.a,{exact:!0,path:"/contact",component:N}),o.a.createElement(F.a,{exact:!0,path:"/contact/edit/:id?",component:D}),o.a.createElement(F.a,{exact:!0,path:"/contact/:id",component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(9),U=Object(T.a)();r.a.render(o.a.createElement(p.a,{history:U},o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.d138b893.chunk.js.map