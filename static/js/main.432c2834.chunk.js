(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{43:function(e,t,n){e.exports=n(73)},48:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),i=(n(48),n(49),n(1)),s=n.n(i),u=n(4),l=n(5),m=n(7),p=n(6),d=n(8),f=n(3),h={getUser:C,signUp:function(e){v.push({_id:E(),name:e,coins:100,moves:[]})},addMove:function(e,t){return b.moves.unshift({toId:e._id,to:e.name,at:Date.now(),amount:t}),b.coins-=t,g("loggedInUser",b),Promise.resolve(b)}},v=function(){var e=y("users");e||(g("users",e=[{_id:E(),name:"Shuki",coins:100,moves:[]},{_id:E(),name:"Shula Mualem",coins:100,moves:[]},{_id:E(),name:"Zigmond",coins:100,moves:[]},{_id:E(),name:"Mulu Mendi",coins:100,moves:[]}]),v=e);return v}(),b=C();function C(){var e=y("loggedInUser");return e||g("loggedInUser",e=v[3]),e}function E(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function g(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}function y(e){var t=localStorage.getItem(e);return JSON.parse(t)}var O=n(39),w=n.n(O),_={getRate:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(w.a.get("https://blockchain.info/tobtc?currency=USD&value=1&cors=true"));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))}};var j=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("ul",null,this.props.moves.map((function(e){var t=new Date(e.at).toLocaleString();return r.a.createElement("li",{key:e.at},r.a.createElement("p",null,"Transfered ",e.amount," BTC to ",e.to," at ",t))})))}}]),t}(r.a.Component),S=function(e){return{type:"SET_CURR_USER",user:e}},x={getLoggedInUser:function(){return function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(h.getUser());case 2:return t=n.sent,n.abrupt("return",e(S(t)));case 4:case"end":return n.stop()}}))}}},T=n(14),k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={rate:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(this.props.getLoggedInUser());case 2:return t.next=4,s.a.awrap(_.getRate());case 4:e=t.sent,this.setState({rate:e.data});case 6:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props.user;return e&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Hello ",e.name),r.a.createElement("h4",null,"Coins : ",e.coins),this.state.rate&&r.a.createElement("h4",null,"BTC Rate: ",this.state.rate),e.moves.length>0&&r.a.createElement(j,{moves:e.moves}),r.a.createElement(f.b,{to:"/contact"},"See Contacts"))}}]),t}(r.a.Component),N={getLoggedInUser:x.getLoggedInUser},L=Object(T.b)((function(e){return{user:e.user.loggedInUser}}),N)(k),U=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contact;return r.a.createElement("li",{className:"contact"},r.a.createElement(f.b,{to:"/contact/".concat(e._id),key:e._id},r.a.createElement("img",{src:"https://robohash.org/".concat(e._id,"/?set=set5"),alt:""}),r.a.createElement("div",{className:"contact-Info"},r.a.createElement("h3",null,"Name: ",e.name),r.a.createElement("p",null,"Phone: ",e.phone),r.a.createElement("p",null,"Email: ",e.email))))}}]),t}(r.a.Component),R=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contacts;return r.a.createElement("ul",{className:"contact-list"},e&&e.map((function(e){return r.a.createElement(U,{contact:e,key:e._id})})))}}]),t}(r.a.Component),I={getContacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(t,n){var a,r=A;e&&e.term&&(a=(a=e.term).toLocaleLowerCase(),r=A.filter((function(e){return e.name.toLocaleLowerCase().includes(a)||e.phone.toLocaleLowerCase().includes(a)||e.email.toLocaleLowerCase().includes(a)}))),t(r.sort((function(e,t){return e.name.toLocaleLowerCase()<t.name.toLocaleLowerCase()?-1:e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:0})))}))},getContactById:function(e){return new Promise((function(t,n){var a=A.find((function(t){return t._id===e}));a?t(a):n("Contact id ".concat(e," not found!"))}))},removeContact:function(e){return new Promise((function(t,n){var a=A.findIndex((function(t){return t._id===e}));-1!==a&&A.splice(a,1),t(A)}))},saveContact:function(e){return e._id?function(e){return new Promise((function(t,n){var a=A.findIndex((function(t){return e._id===t._id}));-1!==a&&(A[a]=e),t(e)}))}(e):function(e){return new Promise((function(t,n){e._id=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),A.push(e),t(e)}))}(e)},getEmptyContact:function(){return{name:"",email:"",phone:""}}};var A=[{_id:"5a56640269f443a5d64b32ca",name:"Ochoa Hyde",email:"ochoahyde@renovize.com",phone:"+1 (968) 593-3824"},{_id:"5a5664025f6ae9aa24a99fde",name:"Hallie Mclean",email:"halliemclean@renovize.com",phone:"+1 (948) 464-2888"},{_id:"5a56640252d6acddd183d319",name:"Parsons Norris",email:"parsonsnorris@renovize.com",phone:"+1 (958) 502-3495"},{_id:"5a566402ed1cf349f0b47b4d",name:"Rachel Lowe",email:"rachellowe@renovize.com",phone:"+1 (911) 475-2312"},{_id:"5a566402abce24c6bfe4699d",name:"Dominique Soto",email:"dominiquesoto@renovize.com",phone:"+1 (807) 551-3258"},{_id:"5a566402a6499c1d4da9220a",name:"Shana Pope",email:"shanapope@renovize.com",phone:"+1 (970) 527-3082"},{_id:"5a566402f90ae30e97f990db",name:"Faulkner Flores",email:"faulknerflores@renovize.com",phone:"+1 (952) 501-2678"},{_id:"5a5664027bae84ef280ffbdf",name:"Holder Bean",email:"holderbean@renovize.com",phone:"+1 (989) 503-2663"},{_id:"5a566402e3b846c5f6aec652",name:"Rosanne Shelton",email:"rosanneshelton@renovize.com",phone:"+1 (968) 454-3851"},{_id:"5a56640272c7dcdf59c3d411",name:"Pamela Nolan",email:"pamelanolan@renovize.com",phone:"+1 (986) 545-2166"},{_id:"5a5664029a8dd82a6178b15f",name:"Roy Cantu",email:"roycantu@renovize.com",phone:"+1 (929) 571-2295"},{_id:"5a5664028c096d08eeb13a8a",name:"Ollie Christian",email:"olliechristian@renovize.com",phone:"+1 (977) 419-3550"},{_id:"5a5664026c53582bb9ebe9d1",name:"Nguyen Walls",email:"nguyenwalls@renovize.com",phone:"+1 (963) 471-3181"},{_id:"5a56640298ab77236845b82b",name:"Glenna Santana",email:"glennasantana@renovize.com",phone:"+1 (860) 467-2376"},{_id:"5a56640208fba3e8ecb97305",name:"Malone Clark",email:"maloneclark@renovize.com",phone:"+1 (818) 565-2557"},{_id:"5a566402abb3146207bc4ec5",name:"Floyd Rutledge",email:"floydrutledge@renovize.com",phone:"+1 (807) 597-3629"},{_id:"5a56640298500fead8cb1ee5",name:"Grace James",email:"gracejames@renovize.com",phone:"+1 (959) 525-2529"},{_id:"5a56640243427b8f8445231e",name:"Tanner Gates",email:"tannergates@renovize.com",phone:"+1 (978) 591-2291"},{_id:"5a5664025c3abdad6f5e098c",name:"Lilly Conner",email:"lillyconner@renovize.com",phone:"+1 (842) 587-3812"}],z=function(e){return{type:"SET_CONTACTS",contacts:e}},M=function(e){return{type:"SET_CURR_CONTACT",currContact:e}},D=function(){return{type:"REMOVE_CONTACT"}},P=function(e){return{type:"UPDATE_CONTACTS",contact:e}},B={loadContacts:function(){return function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(I.getContacts());case 2:return t=n.sent,n.abrupt("return",e(z(t)));case 4:case"end":return n.stop()}}))}},loadCurrContact:function(e){return function(t){var n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(I.getContactById(e));case 2:return n=a.sent,a.abrupt("return",t(M(n)));case 4:case"end":return a.stop()}}))}},removeContact:function(e){return function(t){return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(I.removeContact(e));case 2:return n.abrupt("return",t(D()));case 3:case"end":return n.stop()}}))}},saveContact:function(e){return function(t){var n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(I.saveContact(e));case 2:return n=a.sent,a.abrupt("return",t(P(n)));case 4:case"end":return a.stop()}}))}}};function F(e){var t=e.handleFilter;return r.a.createElement("input",{type:"text",onChange:function(e){return t(e.target.value)}})}var J=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={filter:null},n.handleFilter=function(e){n.setState({filter:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.loadContacts();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e,t=this.state.filter,n=this.props.contacts;return e=t?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):n,r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"contacts"),r.a.createElement("div",{className:"filter"},"Search Contact:  ",r.a.createElement(F,{handleFilter:this.handleFilter})),r.a.createElement(f.b,{className:"add-link",to:"/contact/edit/"},"Add Contact"),n&&r.a.createElement(R,{contacts:e}))}}]),t}(r.a.Component),H={loadContacts:B.loadContacts},V=Object(T.b)((function(e){return{contacts:e.contact.contacts}}),H)(J);function W(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"logo"},r.a.createElement("h1",null,"Mr. ",r.a.createElement("span",null,"\u20bf"))),r.a.createElement("div",null,r.a.createElement(f.b,{to:"/"},"Home"),r.a.createElement(f.b,{to:"/contact"},"Contacts"),r.a.createElement(f.b,{to:"/statistics"},"Statistics")))}var X=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={amount:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateAmount",value:function(e){var t=e.target.value;this.setState({amount:t})}},{key:"removeContact",value:function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you wanna delete?")){t.next=4;break}return t.next=3,s.a.awrap(this.props.removeContact(e));case 3:this.props.history.push("/contact");case 4:case"end":return t.stop()}}),null,this)}},{key:"componentDidMount",value:function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.id,t.next=3,s.a.awrap(this.props.loadCurrContact(e));case 3:case"end":return t.stop()}}),null,this)}},{key:"transferBTC",value:function(e,t,n){return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,s.a.awrap(h.addMove(t,n));case 3:alert("successfully transfered the cash"),this.props.history.push("/contact");case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.contact;return t&&r.a.createElement("section",{className:"contact-details"},r.a.createElement("h1",null,t.name,"'s details:"),r.a.createElement("p",null,"Email : ",t.email),r.a.createElement("p",null,"Phone Number : ",t.phone),r.a.createElement("div",{className:"contact-actions"},r.a.createElement(f.b,{to:"/contact/edit/".concat(t._id)},"Edit Contact"),r.a.createElement("button",{onClick:function(){return e.removeContact(t._id)}},"Remove Contact")),r.a.createElement("form",{onSubmit:function(n){return e.transferBTC(n,t,e.state.amount)}},r.a.createElement("label",null,"Insert Amount to transfer",r.a.createElement("input",{onChange:function(t){return e.updateAmount(t)},type:"num",placeholder:"BTC"})),r.a.createElement("button",null,"Transfer")),r.a.createElement("img",{src:"https://robohash.org/".concat(t._id,"/?set=set5"),alt:""}),r.a.createElement(f.b,{to:"/contact"},"\u2190 Back to contacts"))}}]),t}(r.a.Component),G={loadCurrContact:B.loadCurrContact,removeContact:B.removeContact},q=Object(T.b)((function(e){return{contact:e.contact.currContact}}),G)(X),Z=n(23),K=n(17),Q=n(19),Y=n(42),$=n(28),ee={contacts:null,currContact:null};var te={loggedInUser:null};window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();var ne=Object(Q.c)({contact:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_CONTACT":return Object(K.a)({},e,{currContact:t.currContact});case"SET_CONTACTS":return Object(K.a)({},e,{contacts:t.contacts});case"REMOVE_CURR_CONTACT":return Object(K.a)({},e,{currContact:null});case"UPDATE_CONTACTS":var n=e.contacts.findIndex((function(e){return e._id===t.contact._id}));return Object(K.a)({},e,{contacts:[].concat(Object($.a)(e.contacts.slice(0,n)),[t.contact],Object($.a)(e.contacts.slice(n+1)))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURR_USER":return Object(K.a)({},e,{loggedInUser:t.user});default:return e}}}),ae=Object(Q.d)(ne,Object(Q.a)(Y.a)),re=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={contact:{name:"",phone:"",email:""}},n.updateContact=function(e,t){var a=e.target.value;n.setState((function(e){return{contact:Object(K.a)({},e.contact,Object(Z.a)({},t,a))}}))},n.saveContact=function(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,s.a.awrap(n.props.saveContact(n.state.contact));case 3:n.props.history.push("/contact");case 4:case"end":return t.stop()}}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e,t=this;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(this.props),!(e=this.props.match.params.id)){n.next=6;break}return n.next=5,s.a.awrap(this.props.loadCurrContact(e));case 5:this.setState((function(){return{contact:JSON.parse(JSON.stringify(t.props.contact))}}));case 6:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.contact;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"contact-prev-edit"},r.a.createElement(U,{contact:this.state.contact})),r.a.createElement("form",{onSubmit:this.saveContact},r.a.createElement("div",{className:"form-fields"},r.a.createElement("label",null," Name:",r.a.createElement("input",{value:t.name,onChange:function(t){return e.updateContact(t,"name")},type:"text"})),r.a.createElement("label",null,"Phone:",r.a.createElement("input",{value:t.phone,type:"text",onChange:function(t){return e.updateContact(t,"phone")}})),r.a.createElement("label",null," Email:",r.a.createElement("input",{value:t.email,onChange:function(t){return e.updateContact(t,"email")},type:"email"})),r.a.createElement("button",null,"Save Contact"))))}}]),t}(r.a.Component),ce={saveContact:B.saveContact,loadCurrContact:B.loadCurrContact},oe=Object(T.b)((function(e){return{contact:e.contact.currContact}}),ce)(re),ie=n(18);var se=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(W,null),r.a.createElement(ie.c,null,r.a.createElement(ie.a,{exact:!0,path:"/",component:L}),r.a.createElement(ie.a,{exact:!0,path:"/contact",component:V}),r.a.createElement(ie.a,{exact:!0,path:"/contact/edit/:id?",component:oe}),r.a.createElement(ie.a,{exact:!0,path:"/contact/:id",component:q})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=n(10),le=Object(ue.a)();o.a.render(r.a.createElement(T.a,{store:ae},r.a.createElement(f.a,{history:le},r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.432c2834.chunk.js.map